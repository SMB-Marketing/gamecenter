<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="nfl-liveupdate">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <pre>[[stringify(object,name)]]</pre>
  </template>
</dom-module>
<script>
(function() {
"use strict";
  Polymer({
    is: 'nfl-liveupdate',
      properties: {
        object: {
          type: Object
        },
        name: {
          type: Object
        }
      },

      stringify: function(object,name) {
      //console.log('object',object,'name',name);
        if (!object) {
          return '';
        }
        if (!name) {
        return JSON.stringify(object, null, '  ');
        }

        var retval = 'Quarter ' + object[name].qtr + ' ' + object[name].clock + ' ' + object[name].posteam + ((object[name].yl!== '') ? (' on ' + object[name].yl):'');
        if (typeof object[name].note !== "undefined" ) retval += (' note: ' + object[name].note);
        if (typeof object[name].home !== "undefined" && typeof object[name].home.score !== "undefined") retval += (' home: ' + object[name].home.score.T);
        if (typeof object[name].away !== "undefined" && typeof object[name].away.score !== "undefined") retval += (' vs. away: ' + object[name].away.score.T);
        //if (typeof object[name].home !== "undefined" && typeof object[name].home.stats !== "undefined") retval += (' home:stats: ' + JSON.stringify(object[name].home.stats,null, '  '));
        //if (typeof object[name].away !== "undefined" && typeof object[name].away.stats !== "undefined") retval += (' away:stats: ' + JSON.stringify(object[name].away.stats,null, '  '));
        return retval;

        ;
      }
  });
})();
</script>
